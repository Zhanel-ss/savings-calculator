function calculate() {
  const income = parseFloat(document.getElementById('income').value);
  const expenses = parseFloat(document.getElementById('expenses').value);
  const savingsGoal = parseFloat(document.getElementById('savingsGoal').value);
  const months = parseInt(document.getElementById('months').value);

  if (isNaN(income) || isNaN(expenses) || isNaN(savingsGoal) || isNaN(months) || months <= 0) {
    document.getElementById('result').innerText = "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.";
    return;
  }

  const remaining = income - expenses;
  const monthlyNeed = savingsGoal / months;

  if (monthlyNeed <= remaining) {
    const leftover = remaining - monthlyNeed;
    document.getElementById('result').innerHTML =
      `<p>–í—ã –º–æ–∂–µ—Ç–µ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç—å —Ü–µ–ª–∏!</p>
      <p>–ù—É–∂–Ω–æ –æ—Ç–∫–ª–∞–¥—ã–≤–∞—Ç—å –ø–æ <strong>${monthlyNeed.toLocaleString()} ‚Ç∏</strong> –≤ –º–µ—Å—è—Ü.</p>
      <p>–ü–æ—Å–ª–µ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏–π –∏ —Ä–∞—Å—Ö–æ–¥–æ–≤ —É –≤–∞—Å –æ—Å—Ç–∞–Ω–µ—Ç—Å—è <strong>${leftover.toLocaleString()} ‚Ç∏</strong>.</p>`;
  } else {
    document.getElementById('result').innerHTML =
      `<p style="color: darkred;">–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–æ—Ö–æ–¥–∞ üòû</p>
      <p>–ù—É–∂–Ω–æ –æ—Ç–∫–ª–∞–¥—ã–≤–∞—Ç—å <strong>${monthlyNeed.toLocaleString()} ‚Ç∏</strong> –≤ –º–µ—Å—è—Ü,</p>
      <p>–∞ —É –≤–∞—Å –æ—Å—Ç–∞—ë—Ç—Å—è —Ç–æ–ª—å–∫–æ <strong>${remaining.toLocaleString()} ‚Ç∏</strong> –ø–æ—Å–ª–µ —Ä–∞—Å—Ö–æ–¥–æ–≤.</p>`;
  }
}

// –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤–≤–æ–¥–∞ –∏ –ø–æ–ª–∑—É–Ω–∫–∞
function syncSlider(id) {
  const input = document.getElementById(id);
  const slider = document.getElementById(id + 'Range');
  slider.value = input.value;
}

function syncInput(id) {
  const input = document.getElementById(id);
  const slider = document.getElementById(id + 'Range');
  input.value = slider.value;
}